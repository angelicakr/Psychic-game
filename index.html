<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Psychic Game</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/game.css">    


</head>

<body>
        <div class="wrapper">
        <div class="col-md-3">
            <div class="image">
            </div>
        </div>
        <div class="col-md-6 text-center">
            <header>
                <h1>
                    <strong>The Psychic Game</strong>
                </h1>
            </header>
            <div class="instructions">
                <h3> Can you read my mind? Guess any letter from A-Z</h3>
                <br>
                <h2>Are you Psychic?</h2>
            </div>
            <div id="game">
                <ul class="list-group">
                    <li class="list-group-item">
                        <span id="wins">Wins: </span>
                    </li>
                    <li class="list-group-item">
                        <p id="losses">Losses: </p>
                    </li>
                    <li class="list-group-item">
                        <p id="guessLeft">Guesses used: </p>
                    </li>
                    <li class="list-group-item">
                        <p id="let">Your Guesses so far: </p>
                        
                    </li>
                </ul>
                <div id="addletters"></div>
            </div>
        </div>
        <div class="col-md-3">
        </div>
        <div class="col-md-12">
            <div class="footer push">
                <footer class="footer text-center">
                    <div class="container"> </div>
                </footer>
            </div>
        </div>
    </div>

    <script type="text/javascript">

    window.onload = function(){
        //Letter choices available
        var computerChoices = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r',
            's', 't', 'u', 'v', 'w', 'x', 'y', 'z'
        ];

        //Setting all to zero
        var wins = 0;
        var losses = 0;
        var guesses = 0;
        var myLetters = "";
        
        var addletters = document.getElementById("addletters");
        //When key is pressed it becomes the users guess
        document.onkeyup = function (event) {
            //addletters.innerHTML="";
            myLetters += event.key;
            console.log(myLetters)
           
            addletters.innerText += myLetters;
            var userGuess = String.fromCharCode(event.keyCode).toLowerCase();

            //Lets the computer select a random letter from the available choices
            var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
            //Allows the user 10 guesses

            guesses = guesses || 10
            // Repeat the following logic whenever the user guesses incorrectly.
            if (userGuess !== computerGuess.toString()) {
                 --guesses;
                //console.log(guesses)
                if (guesses === 0) {
                    {
                        alert("No more guesses left for you!")
                        alert("Refresh page for a new game")
                    }

                }
            // This will tally the guesses and make the number go down. 
            //  userGuess = guesses 
            
            }
            console.log("You must be Psychic");
            if (userGuess == computerGuess) {
                wins++;
                {
                    alert("You guessed right! must be psychic!")
                }
            } else if (userGuess !== computerGuess) {
                losses++;
            }

            // Taking the tallies and displaying them in HTML
            var html = "" +
                "<p>Wins: " +
                wins +
                "</p>" +
                "<p>Losses: " +
                losses +
                "</p>" +
                "<p>Guesses used: " + (10 - guesses) 
                +
                "<p>Your Guesses so far: " + myLetters
            guesses +
                "</p>";
            // Placing the html into the game ID
            document.querySelector('#game').innerHTML = html;

        }
    }
    </script>
</body>

</html>